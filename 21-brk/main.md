### 前情提要

前兩日一口氣度過了兩個很精實的系統呼叫。雖然筆者沒有能夠看懂並解釋所有的細節，但這為將來的學習無疑鋪設了入門磚。無論如何，接下來幾日，要來介紹的是跟記憶體相關的幾個呼叫。今日的主角則是`brk`。

---
### 介紹

單看`brk`三個字也是讓人霧裡看花，一樣先看看手冊：
```

NAME
       brk, sbrk - change data segment size

SYNOPSIS
       #include <unistd.h>

       int brk(void *addr);
...
```
後續的敘述是這麼說的：`brk`系統呼叫會改變**program break**的值，而這個值是程序的資料區段（data segment）的結束位置所在。`brk`做的事情，也就是挪移這個位置到`addr`的地方去。

這功能可以做什麼呢？其實這就是支撐起`malloc()`的台柱。在`brk(2)`手冊的`NOTE`一節也特別警告使用者，`malloc`如此方便好用，就不要花時間用這個底層的系統呼叫了。雖說如此，但我們意在探究其中奧妙，所以當然還是要不聽話一下了。

雖說如此，但是突然間要筆者生出一個程序的program break所在，還真不知從何找起。其實這段期間的trace，筆者雖然程式碼無法解釋到最精隨的深處，卻也了悟了一個真正的道理，在此分享與各位讀者。那就是：**認真看手冊，一定有收穫！**在
